#!/usr/bin/env bash
# Category: dev
# Description: Monitor and manage Docker containers
# Usage: docker-mon
# Examples:
#   docker-mon

set -euo pipefail

# Colors
BLUE='\033[0;34m'
GREEN='\033[0;32m'
NC='\033[0m'

echo -e "${BLUE}ðŸ³ Docker System Status${NC}\n"

# Check if Docker is running
if ! docker info >/dev/null 2>&1; then
    echo "Docker is not running!"
    exit 1
fi

# Show running containers
echo -e "${GREEN}Running Containers:${NC}"
docker ps --format "table {{.Names}}\t{{.Status}}\t{{.Ports}}"

# Show system usage
echo -e "\n${GREEN}System Usage:${NC}"
docker system df

# Show last 5 events
echo -e "\n${GREEN}Recent Events:${NC}"
docker events --since 5m --until 0s 2>/dev/null | tail -5 || echo "No recent events"

echo -e "\n${BLUE}ðŸ’¡ Management commands:${NC}"
echo "  lazydocker  - Interactive container management"
echo "  dive <image> - Explore container layers"
echo "  dc          - Docker compose alias"
